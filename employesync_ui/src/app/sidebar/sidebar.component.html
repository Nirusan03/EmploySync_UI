<div class="h-screen bg-white shadow-lg p-4 flex flex-col transition-all duration-300"
     [ngClass]="{ 'w-64': !isCollapsed, 'w-20': isCollapsed }">

  <!-- Sidebar Header -->
  <div class="flex justify-between items-center mb-4">
    <div class="flex items-center space-x-2">
      <mat-icon class="cursor-pointer text-gray-500">apps</mat-icon> 
      <span class="font-bold text-blue-900" [ngClass]="{ 'hidden': isCollapsed }">{{ organizationName }}</span>
    </div>

    <button class="toggle-btn" (click)="toggleSidebar()">
      <mat-icon>{{ isCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
    </button>
  </div>


  <!-- Navigation -->
  <ul class="space-y-1">
    <!-- REMOVED: Proposals -->
    <li class="flex items-center space-x-2 menu-item" (click)="navigateTo('/team')">
      <mat-icon>group</mat-icon>
      <span [ngClass]="{ 'hidden': isCollapsed }">Team</span>
    </li>
    <li class="flex items-center space-x-2 menu-item" (click)="navigateTo('/company')">
      <mat-icon>business</mat-icon>
      <span [ngClass]="{ 'hidden': isCollapsed }">Company</span>
    </li>
  </ul>

  <hr class="my-3 border-gray-300">

  <ul class="space-y-1">
    <!-- REMOVED: My Space -->
    <li class="flex items-center space-x-2 menu-item" (click)="navigateTo('/requests')">
      <mat-icon>mail</mat-icon>
      <span [ngClass]="{ 'hidden': isCollapsed }">Requests</span>
    </li>    
    <li class="flex items-center space-x-2 menu-item" (click)="navigateTo('/post-job/step-1')">
      <mat-icon>post_add</mat-icon>
      <span [ngClass]="{ 'hidden': isCollapsed }">Post Jobs</span>
    </li>
  </ul>

  <div class="mt-auto">
    <ul class="space-y-1">
      <li class="flex items-center space-x-2 menu-item" (click)="navigateTo('/requests')">
        <mat-icon>notifications</mat-icon>
        <a [ngClass]="{ 'hidden': isCollapsed }">Notifications</a>
      </li>
    
      <!-- Logout Button -->
      <li class="flex items-center space-x-2 menu-item" (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span [ngClass]="{ 'hidden': isCollapsed }">Logout</span>
      </li>
    </ul>
    
  </div>

  <!-- Profile Section (cleaned) -->
  <div class="profile-container flex items-center justify-between">
    <div class="flex items-center space-x-2">
      <img [src]="userProfileImage" alt="User Profile" class="profile-img" />
      <span class="ml-2" [ngClass]="{ 'hidden': isCollapsed }">{{ userName }}</span>
    </div>
  
    <button mat-icon-button [matMenuTriggerFor]="profileMenu" *ngIf="!isCollapsed">
      <mat-icon>more_vert</mat-icon>
    </button>
  
    <mat-menu #profileMenu="matMenu">
      <button mat-menu-item (click)="selectProfileImage()">
        <mat-icon>photo_camera</mat-icon> Change Profile Picture
      </button>
    </mat-menu>
  </div>
  
</div>
